<!DOCTYPE html>
<html>
  <head>
    <title>Veres One DID Method 1.0</title>
    <meta http-equiv='Content-Type' content='text/html;charset=utf-8'/>
    <!--
      === NOTA BENE ===
      For the three scripts below, if your spec resides on dev.w3 you can check them
      out in the same tree and use relative links so that they'll work offline,
     -->
    <script src='https://www.w3.org/Tools/respec/respec-w3c-common' class='remove'></script>
    <script src="./common.js"></script>
    <script type="text/javascript" class="remove">
      var respecConfig = {
        // specification status (e.g. WD, LCWD, NOTE, etc.). If in doubt use ED.
        specStatus: "CG-DRAFT",

        // the specification's short name, as in http://www.w3.org/TR/short-name/
        shortName: "didm-veres-one",

        // subtitle
        subtitle: "A decentralized identifier method for the Veres One Ledger",

        // if you wish the publication date to be other than today, set this
        // publishDate:  "2009-08-06",

        // if there is a previously published draft, uncomment this and set its YYYY-MM-DD date
        // and its maturity status
        // previousPublishDate:  "1977-03-15",
        // previousMaturity:  "WD",

        // extend the bibliography entries
        localBiblio: ccg.localBiblio,

        github: "https://github.com/w3c-ccg/didm-veres-one",
        includePermalinks: false,

        // if there a publicly available Editor's Draft, this is the link
        edDraftURI: "https://w3c-ccg.github.io/didm-veres-one/",

        // if this is a LCWD, uncomment and set the end of its review period
        // lcEnd: "2009-08-05",

        // editors, add as many as you like
        // only "name" is required
        editors: [
          { name: "Manu Sporny", url: "http://manu.sporny.org/",
            company: "Digital Bazaar", companyURL: "https://digitalbazaar.com/" },
          { name: "Dave Longley", url: "https://github.com/dlongley",
            company: "Digital Bazaar", companyURL: "https://digitalbazaar.com/"},
        ],

        // authors, add as many as you like.
        // This is optional, uncomment if you have authors as well as editors.
        // only "name" is required. Same format as editors.
        authors:
        [
          { name: "Manu Sporny", url: "http://manu.sporny.org/",
            company: "Digital Bazaar", companyURL: "https://digitalbazaar.com/" },
          { name: "Dave Longley", url: "https://github.com/dlongley",
            company: "Digital Bazaar", companyURL: "https://digitalbazaar.com/"}
        ],

        // name of the WG
        wg:           "Credentials Community Group",

        // URI of the public WG page
        wgURI:        "https://www.w3.org/community/credentials/",

        // name (with the @w3c.org) of the public mailing to which comments are due
        wgPublicList: "public-credentials",

        // URI of the patent status for this WG, for Rec-track documents
        // !!!! IMPORTANT !!!!
        // This is important for Rec-track documents, do not copy a patent URI from a random
        // document unless you know what you're doing. If in doubt ask your friendly neighbourhood
        // Team Contact.
        wgPatentURI:  "",
        maxTocLevel: 4,
        inlineCSS: true
      };
    </script>
    <style>
pre .highlight {
  font-weight: bold;
  color: green;
}
pre .comment {
  font-weight: bold;
  color: Gray;
}
    </style>
  </head>
  <body>
    <section id='abstract'>
      <p>
The Veres One Ledger is a permissionless public ledger designed specifically
for the creation and management of
<a href="https://w3c-ccg.github.io/did-spec/">decentralized identifiers</a>
(DIDs).
Veres One DIDs are
<a href="https://www.coindesk.com/path-self-sovereign-identity/">self-sovereign
identifiers</a> that may be used by people, organizations, and digital devices
to establish their identity. Veres One DIDs are useful in ecosystems where one
needs to issue, store, and use
<a href="https://w3c.github.io/vc-data-model/">Verifiable Claims</a>. This
specification defines how a developer may create and update DIDs in the Veres
One Ledger.
      </p>
    </section>

<section id='sotd'>
  <p>
Comments regarding this document are welcome. Please file issues
directly on <a href="https://github.com/w3c-ccg/didm-veres-one/issues/">GitHub</a>,
or send them to
<a href="mailto:public-credentials@w3.org">public-credentials@w3.org</a>
(<a href="mailto:public-credentials-request@w3.org?subject=subscribe">subscribe</a>,
<a href="https://lists.w3.org/Archives/Public/public-credentials/">archives</a>).
  </p>

  <p>
Work on this specification has been funded in part by the United States
Department of Homeland Security's Science and Technology Directorate under
contract HSHQDC-17-C-00019. The content of this specification
does not necessarily reflect the position or the policy of the U.S.
Government and no official endorsement should be inferred.
  </p>

  <p>
Work on this specification has also been supported by the Rebooting the
Web of Trust group facilitated by Christopher Allen, Shannon Appelcline,
Kiara Robles, Kaliya Young, Brian Weller, and Betty Dhamers.
  </p>

</section>

<section>
  <h1>Introduction</h1>

  <section>
    <h2>Overview</h2>

    <p>

    </p>
  </section>
</section>

<section>
  <h1>Core Data Model</h1>

  <section>
    <h2>Overview</h2>

    <p>

    </p>
  </section>
</section>

<section>
  <h1>Basic Concepts</h1>

  <section>
    <h2>Proof of Control</h2>

    <p>
Proof of control enables an entity to assert that they are in control of the
DID Object for the purposes of simple authentication with systems.
    </p>

    <pre class="example nohighlight" title="Expressing proof of control">
{
  "@context": "https://w3id.org/veres-one/v1",
  "id": "did:v1:215cb1dc-1f44-4695-a07f-97649cad9938",
  <span class="highlight">"proofOfControl": [... array of acceptable proof mechanisms ...]</span>
}
    </pre>

    <p>
A detailed example of a valid proof of control expression follows:
    </p>

    <pre class="example nohighlight" title="Detailed example of proof of control entry">
{
  "@context": "https://w3id.org/veres-one/v1",
  "id": "did:v1:215cb1dc-1f44-4695-a07f-97649cad9938",
  "proofOfControl": [{
    "type": "RsaSignatureProof2017",
    "publicKey": {
      "id": "did:v1:215cb1dc-1f44-4695-a07f-97649cad9938/keys/2",
      "type": "RsaCryptographicKey",
      "owner": "did:v1:215cb1dc-1f44-4695-a07f-97649cad9938",
      "publicKeyPem": "-----BEGIN PUBLIC KEY...END PUBLIC KEY-----\r\n",
    }
  }]
}
    </pre>

  </section>


</section>

<section>
  <h1>Operations</h1>

  <section>
    <h2>Create</h2>

    <p>

    </p>
  </section>

  <section>
    <h2>Update</h2>

    <p>

    </p>
  </section>

  <section>
    <h2>Delegating Control</h2>

    <p>

    </p>
  </section>

  <section>
    <h2>Key Rotation and Transferring Control</h2>

    <p>

    </p>
  </section>

  <section>
    <h2>Recovering a DID</h2>

    <p>

    </p>
  </section>

</section>

<section>
  <h1>Appendix A: Examples</h2>

  <section>
    <h2>Typical DID Object</h2>

    <p>
  The following is a complete example of a typical Veres One DID Object:
    </p>

    <pre class="example nohighlight">
{
  "@context": "https://w3id.org/veres-one/v1",
  "id": "did:v1:215cb1dc-1f44-4695-a07f-97649cad9938",
  // proof of control may be asserted by personal laptop or mobile phone
  "proofOfControl": [{
    "type": "RsaSignatureProof2017",
    "publicKey": {
      "id": "did:v1:215cb1dc-1f44-4695-a07f-97649cad9938/keys/2",
      "type": "RsaCryptographicKey",
      "owner": "did:v1:215cb1dc-1f44-4695-a07f-97649cad9938",
      "publicKeyPem": "-----BEGIN PUBLIC KEY-----\r\nMIIBIjA...DAQAB\r\n-----END PUBLIC KEY-----\r\n",
    }
  }, {
    "type": "RsaSignatureProof2017",
    "publicKey": {
      "id": "did:v1:215cb1dc-1f44-4695-a07f-97649cad9938/keys/3",
      "type": "RsaCryptographicKey",
      "owner": "did:v1:215cb1dc-1f44-4695-a07f-97649cad9938",
      "publicKeyPem": "-----BEGIN PUBLIC KEY-----\r\nMIIBk3j...j2jSIk\r\n-----END PUBLIC KEY-----\r\n",
    }
  }],
  // proof of update authorization may be provided by digital wallet + friend OR
  // by mobile phone
  "proofOfUpdateAuthorization": [{
    // update of DID Object requires 2 of 3 proofs (one wallet and one friend)
    "type": "DidControlProof2017",
    "minimumProofs": 2,
    "did": [
      "did:v1:5d6c3b20-56a9-42e1-bfc8-ed7e685c9039",
      "did:v1:976cda70-9d9f-4eb8-9b24-9593f17d345f",
      "did:v1:fd6f099c-2b76-4c1a-951d-ed86a5cf73fa"
    ],
  }, {
    // update of DID Object requires 1 signature from known secure device (mobile phone)
    "type": "RsaSignatureProof2017",
    "publicKey": {
      "id": "did:v1:215cb1dc-1f44-4695-a07f-97649cad9938/keys/2",
      "type": "CryptographicKey",
      "owner": "did:v1:215cb1dc-1f44-4695-a07f-97649cad9938",
      "publicKeyPem": "-----BEGIN PUBLIC KEY-----\r\nMIIBfja...kd8Jf\r\n-----END PUBLIC KEY-----\r\n",
    }
  }],
  "service": [{
    // the verifiable credential repository service
    "id": "did:v1:5d6c3b20-56a9-42e1-bfc8-ed7e685c9039",
    "type": "VerifiableCredentialRepository",
    "url": "https://wallet.veres.io/"
  }],
  // signature performed by at least one proof of update authorization mechanism
  "signature": {
    "type": "LinkedDataSignature2017",
    "created": "2017-07-25T17:29:49Z",
    "creator": "did:v1:215cb1dc-1f44-4695-a07f-97649cad9938/keys/1",
    "signatureValue": "oxpLJV...LHbAdaO=="
  }
}
    </pre>
  </section>

  <section>
    <h2>Legacy DID Object</h2>

    <p>
The Veres One ledger was launched in 2015, predated this specification, and as
a result has a number of legacy objects that developers should be aware of. The
typical format for these objects are shown below:
    </p>

    <pre class="example nohighlight">
{
  "@context": "https://w3id.org/identity/v1",
  "id": "did:8743453f-e45e-4ac6-b85f-4513ba4c1460",
  "idp": "did:d1d1d1d1-d1d1-d1d1-d1d1-d1d1d1d1d1d1",
  "accessControl": {
    "writePermission": [
      {
        "id": "did:8743453f-e45e-4ac6-b85f-4513ba4c1460/keys/1",
        "type": "CryptographicKey"
      },
      {
        "id": "did:d1d1d1d1-d1d1-d1d1-d1d1-d1d1d1d1d1d1",
        "type": "Identity"
      }
    ]
  },
  "publicKey": [
    {
      "id": "did:8743453f-e45e-4ac6-b85f-4513ba4c1460/keys/1",
      "type": "CryptographicKey",
      "owner": "did:8743453f-e45e-4ac6-b85f-4513ba4c1460",
      "publicKeyPem": "-----BEGIN PUBLIC KEY-----\r\nMIIBIjA...DAQAB\r\n-----END PUBLIC KEY-----\r\n",
      "@context": "https://w3id.org/identity/v1"
    }
  ],
  "signature": {
    "type": "LinkedDataSignature2015",
    "created": "2017-07-25T17:29:49Z",
    "creator": "did:8743453f-e45e-4ac6-b85f-4513ba4c1460/keys/1",
    "signatureValue": "LJoxpV...daOLHbA=="
  }
}
    </pre>
  </section>

</section>

</body>
</html>
